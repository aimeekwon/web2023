<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>패럴럭스 이펙트06</title>
        <link rel="stylesheet" href="css/reset.css" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/ccc.css" />
        <style>
            main {
                width: 100%;
                overflow: hidden;
            }
            .split span {
                display: inline-block;
                min-width: 1vw;
                opacity: 0;
                transform: translateX(400px);
                transition: all 0.8s cubic-bezier(0.075, 0.82, 0.165, 1);
            }
            .split.show span {
                opacity: 1;
                transform: translateX(0);
            }
            .split span:nth-child(1) {
                transition-delay: 100ms;
            }
            .split span:nth-child(2) {
                transition-delay: 150ms;
            }
            .split span:nth-child(3) {
                transition-delay: 200ms;
            }
            .split span:nth-child(4) {
                transition-delay: 250ms;
            }
            .split span:nth-child(5) {
                transition-delay: 300ms;
            }
            .split span:nth-child(6) {
                transition-delay: 350ms;
            }
            .split span:nth-child(7) {
                transition-delay: 400ms;
            }
            .split span:nth-child(8) {
                transition-delay: 450ms;
            }
            .split span:nth-child(9) {
                transition-delay: 500ms;
            }
            .split span:nth-child(10) {
                transition-delay: 550ms;
            }
            .split span:nth-child(11) {
                transition-delay: 600ms;
            }
            .split span:nth-child(12) {
                transition-delay: 650ms;
            }
            .split span:nth-child(13) {
                transition-delay: 700ms;
            }
            .split span:nth-child(14) {
                transition-delay: 750ms;
            }
            .split span:nth-child(15) {
                transition-delay: 800ms;
            }
            .split span:nth-child(16) {
                transition-delay: 850ms;
            }
            .split span:nth-child(17) {
                transition-delay: 900ms;
            }
            .split span:nth-child(18) {
                transition-delay: 950ms;
            }
            .split span:nth-child(19) {
                transition-delay: 1000ms;
            }
            .split span:nth-child(20) {
                transition-delay: 1100ms;
            }
            .split span:nth-child(21) {
                transition-delay: 1150ms;
            }
            .split span:nth-child(22) {
                transition-delay: 1200ms;
            }
            .split span:nth-child(23) {
                transition-delay: 1250ms;
            }
            .split span:nth-child(24) {
                transition-delay: 1300ms;
            }
            .split span:nth-child(25) {
                transition-delay: 1350ms;
            }
            .split span:nth-child(26) {
                transition-delay: 1400ms;
            }
            .split span:nth-child(27) {
                transition-delay: 1450ms;
            }
            .split span:nth-child(28) {
                transition-delay: 1500ms;
            }
            .split span:nth-child(29) {
                transition-delay: 1550ms;
            }
            .split span:nth-child(30) {
                transition-delay: 1600ms;
            }
            .split span:nth-child(31) {
                transition-delay: 1650ms;
            }
            .split span:nth-child(32) {
                transition-delay: 1700ms;
            }
            .split span:nth-child(33) {
                transition-delay: 1750ms;
            }

            .style1.split span {
                opacity: 0;
                display: inline-block;
                min-width: 1vw;
                transition: all 0.3s ease-in-out;
                transform: translateY(100);
            }
            .style1.split span .show {
                opacity: 1;
                transform: translateY(0);
            }

            .style2.split span {
                opacity: 0;
                display: inline-block;
                min-width: 1vw;
                transition: all 0.3s ease-in-out;
                transform: translateX(100);
            }
            .style2.split span .show {
                opacity: 1;
                transform: translateX(0);
            }

            .style3.split span {
                opacity: 0;
                display: inline-block;
                min-width: 1vw;
                transition: all 0.3s ease-in-out;
                transform: translateY(100) translateX(-100) rotate(360);
            }
            .style3.split span .show {
                opacity: 1;
                transform: translateY(0) translateX(0) rotate(0);
            }

            .style4.split span {
                opacity: 0;
                display: inline-block;
                min-width: 1vw;
                transition: all 0.3s ease-in-out;
                transform: translateY(100) translateX(-100) rotate(360);
            }
            .style4.split span .show {
                animation: rotateInDownRight 0.5s 2;
                opacity: 1;
                transform: translateY(0) translateX(0) rotate(0);
            }
            @keyframes wobble {
                0% {
                    transform: translate3d(0, 0, 0);
                    opacity: 0;
                }
                15% {
                    transform: translate3d(-25%, 25%, 0)
                        rotate3d(0, 0, 1, -5deg);
                }
                30% {
                    transform: translate3d(20%, 20%, 0) rotate3d(0, 0, 1, 3deg);
                }
                45% {
                    transform: translate3d(-15%, -15%, 0)
                        rotate3d(0, 0, 1, -3deg);
                }
                60% {
                    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);
                }
                75% {
                    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);
                }
                100% {
                    transform: translate3d(0, 0, 0);
                    opacity: 1;
                }
            }

            /*gsap*/
            /* .split {
    transform-style: ;
}
.split span{
    display: inline-block;
    min-width: 1vw;
    opacity: 0;
    transform: translate3d(-100px, 0px, -30px) rotateX(300deg);

} */
        </style>
    </head>
    <body class="bg02 img02 font08">
        <header id="header">
            <h1>Javasrcipt parallax Effect06</h1>
            <p>패럴럭스 이펙트 : 텍스트 효과</p>
            <ul>
                <li><a href="parallaxEffect01.html">1</a></li>
                <li><a href="parallaxEffect02.html">2</a></li>
                <li><a href="parallaxEffect03.html">3</a></li>
                <li><a href="parallaxEffect04.html">4</a></li>
                <li><a href="parallaxEffect05.html">5</a></li>
                <li class="active"><a href="parallaxEffect06.html">6</a></li>
                <li><a href="parallaxEffect07.html">7</a></li>
            </ul>
        </header>
        <!-- header -->
        <!-- parallax__nav -->
        <main class="main">
            <div class="parallax__wrap">
                <section id="section1" class="parallax__item">
                    <span class="parallax__item__num">01</span>
                    <h2 class="parallax__item__title">Section1</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split style1">
                        시간은 금이다
                    </p>
                </section>
                <!--//section-->
                <section id="section2" class="parallax__item">
                    <span class="parallax__item__num">02</span>
                    <h2 class="parallax__item__title">Section2</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split style2">
                        배우고 때때로 익히면 <br />또한 기쁘지 않겠는가
                    </p>
                </section>
                <!--//section-->
                <section id="section3" class="parallax__item">
                    <span class="parallax__item__num">03</span>
                    <h2 class="parallax__item__title">Section3</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split style3">
                        아는 사람은 좋아하는 사람만 못하고, <br />좋아하는
                        사람은 즐기는 사람만 못하다.
                    </p>
                </section>
                <!--//section-->
                <section id="section4" class="parallax__item">
                    <span class="parallax__item__num">04</span>
                    <h2 class="parallax__item__title">Section4</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split style4">
                        지혜로운 사람은 물을 좋아하고<br />
                        어진사람은 산을 좋아한다.
                    </p>
                </section>

                <!--//section-->
                <section id="section5" class="parallax__item">
                    <span class="parallax__item__num">05</span>
                    <h2 class="parallax__item__title">Section5</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split">
                        비록 천천히 가더라도 <br />항상 앞으로 가라.
                    </p>
                </section>
                <!--//section-->
                <section id="section6" class="parallax__item">
                    <span class="parallax__item__num">06</span>
                    <h2 class="parallax__item__title">Section6</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split">
                        가장 어두운 밤이 지나면 <br />해는 떠오른다
                    </p>
                </section>
                <!--//section-->
                <section id="section7" class="parallax__item">
                    <span class="parallax__item__num">07</span>
                    <h2 class="parallax__item__title">Section7</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split">
                        먼저 자신을 비판하라<br />그러면 남들이 당신을 칭찬할
                        것이다.
                    </p>
                </section>
                <!--//section-->
                <section id="section8" class="parallax__item">
                    <span class="parallax__item__num">08</span>
                    <h2 class="parallax__item__title">Section8</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split">
                        성공의 열쇠는 자신감과 열정이다.
                    </p>
                </section>
                <!--//section-->
                <section id="section9" class="parallax__item">
                    <span class="parallax__item__num">09</span>
                    <h2 class="parallax__item__title">Section9</h2>
                    <figure class="parallax__item__imgWrap">
                        <div class="parallax__item__img"></div>
                    </figure>
                    <p class="parallax__item__desc split">
                        도전이 없다면 성장도 없다.
                    </p>
                </section>
                <!--//section-->
            </div>
        </main>
        <footer id="footer">
            <a href="mailto:aimee00418@gmail.com">aimee00418@gmail.com</a>
        </footer>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
        <script>
            // 텍스트 분리하기
            // let text = document.querySelector("#section1 .parallax__item__desc");
            // let splitText = text.innerText;
            // let splitWrap = splitText.split('').join('</span><span>');
            // text.innerHTML = splitWrap = "<span>" + splitWrap + "</span>";
            //모든 텍스트 분리하기
            document.querySelectorAll(".split").forEach((text) => {
                let splitText = text.innerText;
                let splitWrap = splitText
                    .split("")
                    .join("</span><span aria-hidden='true'>");
                splitWrap = "<span aria-hidden='true'>" + splitWrap + "</span>";
                text.innerHTML = splitWrap;
                text.setAttribute("aria-label", splitText);
            });
            // 스크롤 이펙트
            function scroll() {
                let scrollTop = window.pageYOffset || window.scrollY;

                // CSS 클래스 추가(노가다)
                // document.querySelectorAll(".parallax__item").forEach(item => {
                //     if(scrollTop > item.offsetTop - 200){
                //         item.querySelector(".split").classList.add("show");
                //     }
                // });
                // document.querySelectorAll(".parallax__item").forEach(item => {
                //     if(scrollTop > item.offsetTop){
                //         item.querySelectorAll(".split span").forEach((span, index) => {
                //             setTimeout(() => {
                //                 span.classList.add("show");
                //             }, 50 * index)
                //         });
                //     }
                // });

                // document.querySelectorAll(".parallax__item").forEach(item => {
                //     if(scrollTop >= item.offsetTop){
                //         item.querySelectorAll(".split span").forEach(span => {
                //             gsap.to(span, {duration: 0.05, stagger: 0.1});
                //         })
                //     }
                // })

                //gsap

                document.querySelectorAll(".parallax__item").forEach((item) => {
                    if (scrollTop >= item.offsetTop) {
                        const spans = item.querySelectorAll(".split span");
                        gsap.to(spans, {
                            duration: 0.1,
                            opacity: 1,
                            // x:0,
                            // y:0,
                            // z:0,
                            stagger: 0.05,
                        });
                    }
                });
                requestAnimationFrame(scroll);
            }
            scroll();
        </script>
    </body>
</html>
